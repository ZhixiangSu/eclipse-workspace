package test;

import java.util.Map;
import java.util.Scanner;

public class Main {
	static int m,n;
	static int map[][]=new int[1001][1001];
	static int vis[][]=new int[1001][1001];
	public static void dfs(int s,int e)
	{
		if(vis[s][e]==1)return ;
		vis[s][e]=1;
		for(int i=1;i<=n;i++)
		{
			if(map[e][i]==1&&map[s][i]==0)
			{
				map[s][i]=1;
				dfs(s, i);
			}
		}
	}
	public static void main(String[] args)
	{
		
		Scanner scan=new Scanner(System.in);
		n=scan.nextInt();
		m=scan.nextInt();
		for(int i=1;i<=m;i++)
		{
			int s=scan.nextInt();
			int e=scan.nextInt();
			map[s][e]=1;
		}
		for(int i=1;i<=n;i++)
		{
			map[i][i]=1;
		}
		for(int i=1;i<=n;i++)
		{
			for(int j=1;j<=n;j++)
			{
				if(map[i][j]==1)
				{
					dfs(i,j);
				}
			}
		}
		int num=0;
		for(int i=1;i<=n;i++)
		{
			int nums=0,nume=0;
			for(int j=1;j<=n;j++)
			{
				if(map[i][j]==1)
				{
					nums++;
				}
				if(map[j][i]==1)
				{
					nume++;
				}
			}
			if(nums==n||nume==n)
			{
				num++;
			}
		}
		System.out.println(num);
	}
}
